# Netlify build and deploy config
# https://docs.netlify.com/configure-builds/file-based-configuration/

[build]
  command = "bun run build"
  publish = "dist"
  functions = "netlify/functions"

# Allow build to pass when these env var values appear in build output or repo.
# - VITE_EMAILJS_RECEIVER_EMAIL: your email appears in contact.json, Footer, HeroSection (public contact info).
# - VITE_GITHUB_TOKEN: inlined by Vite for client-side GitHub API (githubService.ts).
# For better security: remove VITE_EMAILJS_* from Netlify build env and use EMAILJS_* only (server function).
# Consider moving GitHub API to a server function so the token is never in the client bundle.
[build.environment]
  SECRETS_SCAN_OMIT_KEYS = "VITE_EMAILJS_RECEIVER_EMAIL,VITE_GITHUB_TOKEN"
